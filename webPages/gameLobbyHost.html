<body>
    <div style="clear: both" style="text-align: center">
        <h1 style="float: left">Lobby:</h1>
        <h1 style="float: left" id="lobbyCode">[lobby code]</h1>
    </div>
    
    
    <button type="button" id="startGame">Start Game</button>
    <h2>Player List</h2>   
    <ul id="playerList">

    </ul>
    
    <script>     
        socket.on('players', function(data) {
            console.log("Fack");
            $("#playerList").empty();

            var playerList = JSON.parse(data.players);

            for (let i = 0; i < playerList.length; i++) {
                $("#playerList").append("<li>" + playerList[i] + "</li>")
                console.log(i + ": " + playerList[i]);
            }
        });

        //Recive data from socket
        socket.on('lobbies', function (data) {
            //Get lobby code from server
            if (data.type == "code") {
                lobbyCode = data.lobbyCode
                //Replace lobby code with generated code
                $("#lobbyCode").html(lobbyCode);
            }
        });

        socket.on('startGame', function (data) {
            alert('received from server');
            console.log('received from server');
        });

        $("#startGame").on("click", function() {
            socket.emit('start', { lobbyCode: lobbyCode });
        });

        socket.on('connect_error', function(err) {
            console.log("client connect_error: ", err);
        });

        socket.on('connect_timeout', function(err) {
            console.log("client connect_timeout: ", err);
        });

        
    </script>
</body>
